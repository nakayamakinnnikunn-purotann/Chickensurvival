<!DOCTYPE html>
<html>
<head>
  <style>
    #chicken {
      position: absolute;
    }
  </style>
</head>
<body>
  <img id="chicken" src="Right00.png" alt="Chicken" />

  <script>
    // 画像の初期位置と移動量
    var positionX = 0;
    var positionY = 0;
    var moveAmount = 10;
    var direction = "right"; // 初期方向は右向き

    // 十字キーのキーコード
    var KEY_UP = 38;
    var KEY_DOWN = 40;
    var KEY_LEFT = 37;
    var KEY_RIGHT = 39;

    // キーダウンイベントのハンドラ
    document.onkeydown = function(event) {
      var key = event.keyCode;
      var chicken = document.getElementById("chicken");

      // 静止している場合の方向切り替え
      if (direction === "stop") {
        if (key === KEY_LEFT) {
          direction = "left";
          chicken.src = "Leftwalk.gif";
        } else if (key === KEY_RIGHT) {
          direction = "right";
          chicken.src = "Rightwalk.gif";
        }
        return;
      }

      if (key === KEY_UP) {
        positionY -= moveAmount;
      } else if (key === KEY_DOWN) {
        positionY += moveAmount;
      } else if (key === KEY_LEFT) {
        positionX -= moveAmount;
        direction = "left";
        chicken.src = "chicken_left.png";
      } else if (key === KEY_RIGHT) {
        positionX += moveAmount;
        direction = "right";
        chicken.src = "chicken_right.png";
      }

      chicken.style.top = positionY + "px";
      chicken.style.left = positionX + "px";
    };

    // キーアップイベントのハンドラ
    document.onkeyup = function(event) {
      var key = event.keyCode;
      var chicken = document.getElementById("chicken");

      // 静止時の処理
      if (key === KEY_UP || key === KEY_DOWN || key === KEY_LEFT || key === KEY_RIGHT) {
        chicken.src = "Right00.png";
        direction = "stop";
      }
    };
  </script>
</body>
</html>
