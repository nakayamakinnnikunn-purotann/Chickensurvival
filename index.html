<!DOCTYPE html>
<html>
<head>
  <style>
    canvas {
      border: 1px solid black;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <canvas id="myCanvas" width="500" height="500"></canvas>
  <script>
    var canvas = document.getElementById("myCanvas");
    var context = canvas.getContext("2d");

    var x = canvas.width / 2;
    var y = canvas.height / 2;
    var radius = 50;
    var isTapping = false;
    var tapX = x;
    var tapY = y;

    function drawCircle(x, y, radius) {
      context.beginPath();
      context.arc(x, y, radius, 0, 2 * Math.PI);
      context.fillStyle = "red";
      context.fill();
      context.closePath();
    }

    function drawLine(x1, y1, x2, y2) {
      context.beginPath();
      context.moveTo(x1, y1);
      context.lineTo(x2, y2);
      context.strokeStyle = "blue";
      context.lineWidth = 3;
      context.stroke();
      context.closePath();
    }

    function clearCanvas() {
      context.clearRect(0, 0, canvas.width, canvas.height);
    }

    function update() {
      clearCanvas();

      if (isTapping) {
        drawLine(x, y, tapX, tapY);
      }

      drawCircle(x, y, radius);

      if (isTapping) {
        var dx = tapX - x;
        var dy = tapY - y;
        var distance = Math.sqrt(dx * dx + dy * dy);

        if (distance > radius) {
          x += (dx / distance) * 5;
          y += (dy / distance) * 5;
        }
      }
    }

    canvas.addEventListener("mousedown", function(event) {
      isTapping = true;
      tapX = event.pageX - canvas.offsetLeft;
      tapY = event.pageY - canvas.offsetTop;
    });

    canvas.addEventListener("mousemove", function(event) {
      if (isTapping) {
        tapX = event.pageX - canvas.offsetLeft;
        tapY = event.pageY - canvas.offsetTop;
      }
    });

    canvas.addEventListener("mouseup", function() {
      isTapping = false;
    });

    setInterval(update, 10);
  </script>
</body>
</html>
